{% extends "base.html" %}
{% block content %}
<!-- Login page -->
<title> Login </title>
<div class="auth-panel container-fluid d-flex align-items-center">
  <!-- Form for posting the info to server -->
<form class="login-form border shadow rounded p-5" action='{{ url_for('login') }}' method="POST">
  <div class="mb-3 text-center">
    <img class="auth-logo" src="{{ url_for('static', filename='asset/littlegadget.svg') }}" alt="SVG Image" >
    <h1>SIGN IN</h1>
  </div>
<!-- Error message flash -->
  {% with messages = get_flashed_messages(with_categories = True) %}
  {% if messages %}
    {% if errExist %}
    <div class="errCon d-flex align-items-center container border rounded mb-3">
      <i class="fa-solid fa-circle-exclamation pe-3 errIcon"></i>
      <div>
        {% for message in messages %}
         {{ message[1] }}
        {% endfor %}
      </div>
    </div>
    {% endif %}
  {% endif %}
{% endwith %}
<!-- Basic form stuff -->
  <div class="mb-3">
    <label class="form-label">Username</label>
    <input type="text" class="form-control" name="username" required>
  </div>
  <div class="mb-3">
    <label class="form-label auth-text">Password</label>
    <input type="password" class="form-control" name="password" required>
  </div>
  <div class="row mb-4">
    <div class="col d-flex justify-content-center">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="1" name="rmbMe"/>
        <label class="form-check-label"> Remember me </label>
      </div>
    </div>
    <div class="col">
      <a href="{{ url_for('register') }}">No account? Create one!</a>
    </div>
  </div>
  <div class="d-grid gap-2">
    <button type="submit" class="btn btn-primary">Sign in</button>
  </div>
</form>
</div>
{% endblock %}